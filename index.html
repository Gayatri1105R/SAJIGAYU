<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Countdown Surprise</title>
<style>
body,html {margin:0;height:100%;overflow:hidden;}
body {
    display:flex;
    justify-content:center;
    align-items:center;
    background:linear-gradient(135deg,#ffdee9,#b5fffc);
    animation:bg 10s ease infinite alternate;
    font-family:'Comic Sans MS',cursive;
}
@keyframes bg {
    0% {background:linear-gradient(135deg,#ffdee9,#b5fffc);}
    100% {background:linear-gradient(135deg,#c6ffdd,#f7797d);}
}
#countdown {
    font-size:3em;
    color:#d63384;
    text-shadow:0 0 20px #ff69b4;
    animation:pulse 2s infinite;
}
@keyframes pulse {
    0%,100% {transform:scale(1);}
    50% {transform:scale(1.05);}
}
#message {
    display:none;
    font-size:1.5em;
    color:#6f42c1;
    text-align:center;
    animation:fadeIn 2s ease forwards;
}
@keyframes fadeIn {
    from {opacity:0;transform:translateY(20px);}
    to {opacity:1;transform:translateY(0);}
}
canvas {
    position:fixed;
    top:0;left:0;
    pointer-events:none;
    z-index:0;
}
</style>
</head>
<body>
<canvas id="hearts"></canvas>
<div id="countdown"></div>
<div id="message">Just a little longer before your new year begins…<br>✨ I can’t wait to celebrate you ✨</div>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script>
// Countdown Logic
const cd=document.getElementById('countdown'),ms=document.getElementById('message');
// For testing, set 1 minute countdown:
const target=new Date().getTime() + 3000; // 1 min for testing
// For actual birthday, use:
// const target=new Date('October 2, 2025 00:00:00').getTime();

const x=setInterval(()=>{
    let now=new Date().getTime(),d=target-now;
    let days=Math.floor(d/(1000*60*60*24)),
    hrs=Math.floor((d%(1000*60*60*24))/(1000*60*60)),
    mins=Math.floor((d%(1000*60*60))/(1000*60)),
    secs=Math.floor((d%(1000*60))/1000);
    cd.innerHTML=`${days}d ${hrs}h ${mins}m ${secs}s`;
    if(d<0){
        clearInterval(x);
        cd.style.display='none';
        ms.style.display='block';
        popConfetti();
        setTimeout(()=>{window.location.href='home.html';},5000); // Redirects after 5 sec
    }
},1000);

// Confetti with hearts
function popConfetti(){
    var duration=5*1000,end=Date.now()+duration;
    (function frame(){
        confetti({
            particleCount:5,
            angle:60,
            spread:55,
            origin:{x:0},
            shapes:['circle','heart'],
            colors:['#ff4d6d','#ffb3c6','#c77dff']
        });
        confetti({
            particleCount:5,
            angle:120,
            spread:55,
            origin:{x:1},
            shapes:['circle','heart'],
            colors:['#ff4d6d','#ffb3c6','#c77dff']
        });
        if(Date.now()<end){requestAnimationFrame(frame);}
    })();
}

// Heart Particle Animation
const canvas=document.getElementById('hearts'),ctx=canvas.getContext('2d');
canvas.width=window.innerWidth;canvas.height=window.innerHeight;
let hearts=[];
function Heart(){
    this.x=Math.random()*canvas.width;
    this.y=Math.random()*canvas.height;
    this.size=Math.random()*5+2;
    this.speedY=Math.random()*1+0.5;
    this.opacity=Math.random()*0.5+0.5;
}
Heart.prototype.draw=function(){
    ctx.globalAlpha=this.opacity;
    ctx.fillStyle='#ff69b4';
    ctx.beginPath();
    ctx.moveTo(this.x,this.y);
    ctx.bezierCurveTo(this.x+this.size,this.y-this.size,this.x+this.size*2,this.y+this.size,this.x,this.y+this.size*2);
    ctx.bezierCurveTo(this.x-this.size*2,this.y+this.size,this.x-this.size,this.y-this.size,this.x,this.y);
    ctx.fill();
    ctx.globalAlpha=1;
}
Heart.prototype.update=function(){
    this.y+=this.speedY;
    if(this.y>canvas.height){this.y=0;this.x=Math.random()*canvas.width;}
    this.draw();
}
function animate(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    if(hearts.length<50){hearts.push(new Heart());}
    hearts.forEach(h=>h.update());
    requestAnimationFrame(animate);
}
animate();
window.addEventListener('resize',()=>{canvas.width=window.innerWidth;canvas.height=window.innerHeight;});
</script>
</body>
</html>
